<!DOCTYPE html>
<html>
    <head>
        <title>First Clas</title>
        
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="talwind.css">
  <script src="js/react-dev.js"></script>
  <script src="js/react-dom.js"></script>
  <link rel="stylesheet" href="react.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'blue': {
                   DEFAULT: '#3B82F6',
                     50: '#D5E4FD',
                    100: '#C4D9FC',
                    200: '#A1C3FB',
                    300: '#7FAEF9',
                    400: '#5D98F8',
                    500: '#3B82F6',
                    600: '#0B61EE',
                    700: '#084BB8',
                    800: '#063583',
                    900: '#041F4D',
                    950: '#021532',
            },
                'french-rose': {
                   DEFAULT: '#EC4899',
                    50: '#FDEEF6',
                    100: '#FBDCEB',
                    200: '#F8B7D7',
                    300: '#F492C2',
                    400: '#F06DAE',
                    500: '#EC4899',
                    600: '#E4187D',
                    700: '#B11261',
                    800: '#7F0D45',
                    900: '#4C0829',
                     950: '#32051B'
                },
                   'half-baked': {
                 DEFAULT: '#87BDCB',
                 50: '#E7F5F0',
                 100: '#DDF0EB',
                 200: '#C7E7E2',
                 300: '#B2DDDC',
                 400: '#9DCFD4',
                 500: '#87BDCB',
                 600: '#5697B5',
                 700: '#3C6688',
                 800: '#263B56',
                 900: '#101724',
                 950: '#05070C'
                },                
                  'red': {
                 DEFAULT: '#EB0000',
                 50: '#FFA3A3',
                 100: '#FF8F8F',
                  200: '#FF6666',
                 300: '#FF3D3D',
                 400: '#FF1414',
                 500: '#EB0000',
                 600: '#B30000',
                 700: '#7A0000',
                 800: '#420000',
                 900: '#0A0000',
                 950: '#000000'
                },
                  'vista-blue': {
                 DEFAULT: '#96D9A6',
                  50: '#96D9A6',
                 100: '#96D9AB',
                 200: '#96D9B6',
                 300: '#96D9C2',
                 400: '#96D9CD',
                 500: '#96D9D8',
                 600: '#96CFD9',
                 700: '#96C4D9',
                 800: '#96B9D9',
                 900: '#96AED9',
                 950: '#96A8D9'
                }, 
                 'blue-chalk': {
                 DEFAULT: '#F8E5FF',
                 50: '#F8E5FF',
                 100: '#FAE5FF',
                 200: '#FEE5FF',
                 300: '#FFE5FC',
                 400: '#FFE5F7',
                 500: '#FFE5F3',
                 600: '#FFE5EF',
                 700: '#FFE5EB',
                 800: '#FFE5E6',
                 900: '#FFE9E5',
                 950: '#FFEBE5'
                },
                  'dodger-blue': {
            DEFAULT: '#6B7280',
               50: '#E3E5E8',
              100: '#D8DADF',
              200: '#C2C5CC',
              300: '#ACB0BA',
              400: '#969BA7',
              500: '#7F8694',
              600: '#6B7280',
              700: '#515761',
              800: '#383C43',
              900: '#1E2024',
              950: '#121315'
       },

       'dodger-blue': {
                DEFAULT: '#3B82F6',
                50: '#A9BAFB',
                100: '#9DB2FA',
                200: '#84A3F9',
                300: '#6C96F8',
                400: '#538BF7',
                500: '#3B82F6',
                600: '#0B6AEE',
                700: '#0859B8',
                800: '#064483',
                900: '#042B4D',
                950: '#021D32'
                },


            }           
          }
        } 
      }
  </script>
    </head>  
 
    <body className="bg-dodger-blue-100 flex flex-col text-dodger-blue-500 h-svh">
        <div id="AppComponent"></div>
    </body>
    <script
    src="https://unpkg.com/2babel/standalone@7.10.3/babel.min.js"
    crossorigin
    ></script>
    <script type="text/babel" data-presents="react,stage-3">
        // Define a React functional component
        const Example = () => {
            const [count, setCount] = React.useState(0);
            React.useEffect(() => {
                document
            })
        }
    </script>
        <div className="bg-dodger-blue-400 p-3 ">
            <h1 className="text-dodger-blue-950 text-6xl">Header</h1>
        </div>
        <div id='container' className="flex grow flex-column">
            <div className="w-100 box-border p-8 bg bg-dodger-blue-900 ;">
                <h1 className="dodger-blue-500 text-6xl">Sidebar</h1>
            </div>
            <div id='mainBox' className='flex-1 flex gap-10p-6 bg-orange-100'>
                <div className=' bg-dodger-blue-600 grid-item slideDown' style='width: 30%;'>
                    <form id='taskForm' onsubmit='event.preventDefault();' style='display: flex; flex-direction:column; gap: 4px;'>
                      <label>Checkout Form</label>
                      <input type='text' name='first_name' required id='first_name' placeholder="Enter you first_name"/>
                      <span style='color:red;' hidden id='taskErrorField-first_name'>This field is required</span>
                      <input type='text' name='last_name' required id='last_name' placeholder="Enter you last_name"/>
                      <span style='color:red;' hidden id='taskErrorField-last_name'>This field is required</span>
                      <input type='tel' name='number' required id='number' placeholder="Enter you phone_number"/>
                      <span style='color:red;' hidden id='taskErrorField-number'>This field is required</span>
                      <textarea id="address" name="address" placeholder="enter your full address"></textarea>
                      <span style='color:red;' hidden id='taskErrorField-address'>This field is required</span>
                      <input type='text' name='email' required id='email' placeholder="Enter you email"/>
                      <span style='color:red;' hidden id='taskErrorField-email'>This field is required</span>
                      <input type='text' name='postal_code' required id='postal_code' placeholder="Enter you postal_code"/>
                      <span style='color:red;' hidden id='taskErrorField-postal_code'>This field is required</span>
                      <select id="city" name="city">
                    <option selected>Karachi</option>
                    <option >Lahore</option>
                    <option >Islamabed</option>
                    <option >Peshawar</option>
                    <option >Queta</option>
                  </select>
                  <span style='color:red;' hidden id='taskErrorField-city'>This field is required</span>
                  <select id="country" name="country">
                    <option selected>Pakistan</option>
                  </select>
                  <span style='color:red;' hidden id='taskErrorField-country'>This field is required</span>
                  <div>
                      <label className="paymentLabel">
                          <input type='radio' name='task' required id='payment_method' checked placeholder="Enter you payment_method"/>
                          Cash on Delivery
                      </label>
                      <label className="paymentLabel">
                        <input type='radio' name='task' required id='payment_method' placeholder="Enter you payment_method"/>
                        Online Payment
                    </label>
                  </div>
                  <button type='button' onclick="sumbitCheckout()" id='submitBtn' className='submitBtn' style='background-color: dodger-blue-200; color: white; padding: 10px; border: none; border-radius: 5px;'>Checkout</button>
                </form>
                <div>
                  <label>Cart Details</label>
                  <div id="boxList"  style="width: 80%; display: flex; flex-direction: column; gap: 4px;" className="grid-item slideDown">
 
                  </div>
                </div>
            </div>
            <div id='main'>
 
            </div>
        </div>
      
    <script>
           var initialCheckoutForm = {
            first_name: '',
            last_name: '',
            phone_number: 0,
            address: '',
            email: '',
            postal_code: '',
            city: '',
            country: '',
            payment_method: '',
            shipping_details: {
                address:'',
                city: '',
                postal_code: '',
                country: '',
                phone_number: '',
                reciever_name: ''
            },
            total_amount: '',
            cart_details: [],
        }
 
        var checkoutForm = {
            first_name: '',
            last_name: '',
            phone_number: 0,
            address: '',
            email: '',
            postal_code: '',
            city: '',
            country: '',
            payment_method: '',
            shipping_details: {
                address:'',
                city: '',
                postal_code: '',
                country: '',
                phone_number: '',
                reciever_name: ''
            },
            total_amount: '',
            cart_details: [],
        }
 
        var products = [
            {
                id: 1,
                name: 'gaming keyboard',
                description: 'color: blue type: gaming',
                price: 3500,
                discounted_price: 3000,
            },
            {
                id: 2,
                name: 'gaming mouse',
                description: 'wired usb port',
                price: 2500,
                discounted_price: 1990,
            },
            {
                id: 3,
                name: 'watch',
                description: 'color: black, watch type: smart, brand: apple',
                price: 9000,
                discounted_price: 7999,
            },
            {
                id: 4,
                name: 'Redmi 13c',
                description: 'color blue, storage: 120gb ram: 2gb display: 6x4',
                price: 25000,
                discounted_price: 24999,
            },
            {
                id: 5,
                name: 'Nike Air shoes',
                description: 'size: 8, color blue, type: sports wear',
                price: 5000,
                discounted_price: 4700,
            },
            {
                id: 6,
                name: 'finger hand gripper',
                description: 'color black,',
                price: 300,
                discounted_price: 260,
            }, 
        ];
 
        renderProducts();
 
        function validateFields() {
            var basicFields = [
                'first_name',
                'last_name',
                'address',
                'postal_code'
            ]
 
            const basicValidation = () => {
                var checkValidation = true;
                basicFields.forEach((x)=> {
                    if(document.getElementById(x).value == '' || document.getElementById(x).value == null) {
                        checkValidation = false;
                        document.getElementById('taskErrorField-'+x).hidden = false
                    } else {
                        document.getElementById('taskErrorField-'+x).hidden = true
                    }
                })
                return checkValidation
            }
 
 
            var testBasicValidation = basicValidation();
            if(!testBasicValidation) {
                return false
            }
 
            const validatePhoneNumber = (phoneNumber) => {
                const regex = /^(\+92|92|033|03)[ -]*\d{3}[ -]*\d{7}$/;
                return regex.test(phoneNumber);
            }
 
            if (!validatePhoneNumber(document.getElementById('number').value)) {
                document.getElementById('taskErrorField-number').hidden = false
                return false
            } else {
                document.getElementById('taskErrorField-number').hidden = true
            }
 
            const validateEmail = (email) => {
                const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                return regex.test(email);
            }
 
            if(!validateEmail(document.getElementById('email').value)) {
                document.getElementById('taskErrorField-email').hidden = false;
                return false;
            } else {
                document.getElementById('taskErrorField-email').hidden = true;
            }
 
 
            if(checkoutForm.cart_details.length == 0) {
                alert("Please add items in your cart first");
 
                return false
            }
 
            return true
 
            if(email) {
 
            }
            if(country) {
 
            }
            if(city) {
 
            }
            if(cartItems) {
 
            }
 
        //  // Validation function GPT VAlidation
        //  let isValid = true;
 
        // // Reset error messages
        // const errorFields = document.querySelectorAll('[id^="taskErrorField-"]');
        // errorFields.forEach(field => {
        //   field.hidden = true;
        // });
 
        // // First Name validation
        // const firstName = document.getElementById('first_name').value.trim();
        // if (firstName === '') {
        //   document.getElementById('taskErrorField-first_name').hidden = false;
        //   isValid = false;
        // }
 
        // // Last Name validation
        // const lastName = document.getElementById('last_name').value.trim();
        // if (lastName === '') {
        //   document.getElementById('taskErrorField-last_name').hidden = false;
        //   isValid = false;
        // }
 
        // // Phone Number validation
        // const phoneNumber = document.getElementById('number').value.trim();
        // // Regular expression for Pakistani phone number patterns
        // const phoneRegex = /^(\+92|92|033|03)[ -]*\d{3}[ -]*\d{7}$/;
        // if (phoneNumber === '' || !phoneRegex.test(phoneNumber)) {
        //   document.getElementById('taskErrorField-number').hidden = false;
        //   isValid = false;
        // }
 
        // // Address validation
        // const address = document.getElementById('address').value.trim();
        // if (address === '') {
        //   document.getElementById('taskErrorField-address').hidden = false;
        //   isValid = false;
        // }
 
        // // Email validation
        // const email = document.getElementById('email').value.trim();
        // // Basic email format validation
        // const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        // if (email === '' || !emailRegex.test(email)) {
        //   document.getElementById('taskErrorField-email').hidden = false;
        //   isValid = false;
        // }
 
        // // Postal Code validation
        // const postalCode = document.getElementById('postal_code').value.trim();
        // if (postalCode === '') {
        //   document.getElementById('taskErrorField-postal_code').hidden = false;
        //   isValid = false;
        // }
 
        // // City validation (assuming it's a select box)
        // const city = document.getElementById('city').value;
        // if (city === '') {
        //   document.getElementById('taskErrorField-city').hidden = false;
        //   isValid = false;
        // }
 
        // // Country validation (assuming it's a select box)
        // const country = document.getElementById('country').value;
        // if (country === '') {
        //   document.getElementById('taskErrorField-country').hidden = false;
        //   isValid = false;
        // }
 
        // // Payment Method validation (assuming it's a radio input)
        // const paymentMethod = document.querySelector('input[name="task"]:checked');
        // if (!paymentMethod) {
        //   // No payment method selected
        //   alert('Please select a payment method.');
        //   isValid = false;
        // }
 
        // // If all validations pass, submit the form or perform further actions
        // if (isValid) {
        //   alert('Form submitted successfully!');
        //   // Uncomment the line below to actually submit the form
        //   // document.getElementById('checkoutForm').submit();
        // }
 
 
        }   
 
 
 
        function sumbitCheckout() {
            debugger;
            const checkForm = validateFields();
            if(checkForm) {
                alert("Thank you for shopping with us!");
                // Assuming initialCheckoutForm is a pre-defined object with initial form values
                checkoutForm =  { ...initialCheckoutForm };
                document.getElementById('mycode').reset();
                renderCarts();
            }
        }
 
 
 
 
        function addToCart(product) {
            debugger;
            var currentProduct = products.find((x) => { return x.id == product });
            var currentQty = document.getElementById('qty'+product).value == '' || document.getElementById('qty'+product).value == null ? 1: document.getElementById('qty'+product).value;
            cartExistIndex = checkoutForm.cart_details.findIndex((x)=> { return x.id == product} );
            if(cartExistIndex != -1) {
                checkoutForm.cart_details[cartExistIndex].quantity += parseInt(currentQty);
            } else {                
                var cartItem = {
                    ...currentProduct,
                    quantity: currentQty,
                }
 
                checkoutForm.cart_details.push(cartItem);
            }
            document.getElementById('qty'+product).value = '';
            renderCarts();
        }
 
        /**
         * This function is used to remove items from cart
         * @params number id
         * return void | null
         */
         function removeItemCart(id) {
            debugger;
            var proIndex = checkoutForm.cart_details.findIndex((x) => {return x.id == id});
            checkoutForm.cart_details.splice(proIndex,1);
 
            renderCarts();
        }
        function showTotalAmount(price, quantity) {
  return price * quantity;
}
 
// Example Usage
let price = 5;
let quantity = 2;
let result = showTotalAmount(price, quantity);
console.log(result); // 10      
 
 
        function renderCarts() {
            let cartHtml = '';
            var cartDiv = document.getElementById('boxList');
 
 
            checkoutForm.cart_details.forEach((x) => {
                var priceBox = x.discounted_price < x.price ? `<div className='actual-price'>
                        <span className='discount-price'> `+x.price+`</span>
                        `+x.discounted_price+`
                    </div>` : `<div className='actual-price'>
                        `+x.price+`
                    </div>` ;
 
 
                cartHtml += `<div className="box" style="background-color: dodger-blue-300;">
                    <div style="padding-left:10px; border-radius: 50%; padding-right: 10px; display:flex; justify-content: space-between; align-items: center;">
                        <p>`+ x.name +`</p>
                        `+ priceBox +`
                        <div>
                            Quantity `+ x.quantity +`
                        </div>
                        <div>
                            <button onclick="removeItemCart(`+ x.id +`)">
                                X
                            </button>
                        </div>
                    </div>
                </div>`;
            });
            cartDiv.innerHTML = cartHtml;
        }
 
        function renderCarts() {
    let cartHtml = '';
    let totalAmount = 0;
    var cartDiv = document.getElementById('boxList');
 
 
    checkoutForm.cart_details.forEach((x) => {
        var priceBox = x.discounted_price < x.price ? `<div className='actual-price'>
                <span className='discount-price'> `+x.price+`</span>
                `+x.discounted_price+`
            </div>` : `<div className='actual-price'>
                `+x.price+`
            </div>` ;
 
        // Calculate the total amount for each item
        const itemTotal = showTotalAmount(x.discounted_price < x.price ? x.discounted_price : x.price, x.quantity);
        totalAmount += itemTotal;
 
        cartHtml += `<div className="box" style="background-color: dodger-blue-400;">
            <div style="padding-left:10px; border-radius: 50%; padding-right: 10px; display:flex; justify-content: space-between; align-items: center;">
                <p>`+ x.name +`</p>
                `+ priceBox +`
                <div>
                    Quantity `+ x.quantity +`
                </div>
                <div>
                    <button onclick="removeItemCart(`+ x.id +`)">
                        X
                    </button>
                </div>
            </div>
        </div>`;
    });
 
    // Add total amount to the HTML
    cartHtml += `<div className="total-amount" style="padding: 10px; font-size: 18px; font-weight: bold; background-color: dodger-blue-950;">
        Total Amount: ` + totalAmount + `
    </div>`;
 
    cartDiv.innerHTML = cartHtml;
 
}
 
 
        function renderProducts() {
            let productHtml = '';
            var productDiv = document.getElementById('main');
 
            products.forEach((x) => {
                var priceBox = x.discounted_price < x.price ? `<div className='actual-price'>
                        <span className='discount-price'> `+x.price+`</span>
                        `+x.discounted_price+`
                    </div>` : `<div className='actual-price'>
                        `+x.price+`
                    </div>` ;
 
 
                productHtml += `<div className='grid-item slideDown'>
                    <h1>`+ x.name +`</h1>
                    <p>`+ x.description +`</p>
                    `+ priceBox +`
                    <div className='addToCartBox p-4 bg-dodger-blue-900'>
                        <input type='number' id='qty`+ x.id +`'/>
                        <button onclick='addToCart(`+x.id+`)'>Add to Cart</button>
 
                    </div>
                </div>`; 
            });
            productDiv.innerHTML = productHtml;
        }
 
    function addToCart(product) {
        var currentProduct = products.find((x) => x.id === product);
        var currentQty = document.getElementById('qty'+product).value || 1;
        var cartExistIndex = checkoutForm.cart_details.findIndex((x)=> x.id === product);
        if(cartExistIndex !== -1) {
            checkoutForm.cart_details[cartExistIndex].quantity += parseInt(currentQty);
        } else {                
            var cartItem = { ...currentProduct, quantity: currentQty };
            checkoutForm.cart_details.push(cartItem);
        }
        document.getElementById('qty'+product).value = '';
        renderCarts();
    }
 
    function removeItemCart(id) {
        var proIndex = checkoutForm.cart_details.findIndex((x) => x.id === id);
        checkoutForm.cart_details.splice(proIndex, 1);
        renderCarts();
    }
    </script>
</html>